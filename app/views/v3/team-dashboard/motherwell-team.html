{% extends "layouts/main.html" %}
{% block pageTitle %}Motherwell team{% endblock %}
{% block beforeContent %}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
<div class="spacer1"></div>
{% endblock %}
{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">Motherwell team</h1>
        <p class="govuk-body">Set up your team</p>

        <!-- Input to add team member -->
        <div class="govuk-form-group">
            <label class="govuk-label" for="member-name">Enter team member's staff number</label>
            <input class="govuk-input" id="member-name" type="text">
        </div>
        <button class="govuk-button govuk-button--secondary" id="add-member-btn" data-module="govuk-button">Add
            member</button>
        <br />
        <br />
        <!-- Table of team members -->
        <h2 class="govuk-heading-m">Team members</h2>
        <table class="govuk-table" id="team-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Staff number</th>
                    <th scope="col" class="govuk-table__header">Name</th>
                    <th scope="col" class="govuk-table__header">Action</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body"></tbody>
        </table>
        <form method="get" action="user-summary-success.html">
            <button class="govuk-button" type="submit">Save team</button>
        </form>
    </div>
</div>

<script>
    document.getElementById('add-member-btn').addEventListener('click', function () {
        const nameInput = document.getElementById('member-name');
        const name = nameInput.value.trim();
        if (!name) return;

        const tbody = document.querySelector('#team-table tbody');
        const row = document.createElement('tr');
        row.className = 'govuk-table__row';

        row.innerHTML = `
        <td class="govuk-table__cell">${name}</td>
    <td class="govuk-table__cell">James</td>
    <td class="govuk-table__cell">
      <button class="govuk-button govuk-button--secondary delete-btn" data-module="govuk-button">Delete</button>
    </td>
  `;

        tbody.appendChild(row);
        nameInput.value = '';

        // Delete functionality
        row.querySelector('.delete-btn').addEventListener('click', () => row.remove());
    });
</script>
{% endblock %}